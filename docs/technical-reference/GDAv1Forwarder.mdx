---
sidebar_position: 4
---

import CodeBlock from "@theme/CodeBlock";
import gdaForwarder from "!!raw-loader!@site/src/abis/gdaForwarder.json";

# GDAv1Forwarder

The **GDAv1Forwarder** contract is a Superfluid forwarder that implements the General Distribution Agreement (GDA) related functions.
It is a contract specifically made immutable in order to facilitate the interaction with [Distributions](/docs/protocol/distributions/overview.mdx) through the General Distribution Agreement (GDA).

This contract is optimized for interaction that would happen from outside the blockchain (off-chain).
For more information on the best practices regarding this interaction, please refer to the [Interact Off-Chain](/docs/protocol/distributions/guides/distributions-and-super-tokens/off-chain.mdx) section of this documentation.

# ABI
In order to interact with the `GDAv1Forwarder` contract, you can use the following ABI:

<div>
<details>
<summary>Click here to show `GDAv1Forwarder` ABI</summary>
<p>

<CodeBlock language="json">{gdaForwarder}</CodeBlock>

</p>
</details>
</div>

## \_gda

```solidity
contract IGeneralDistributionAgreementV1 _gda
```

## Fn constructor

```solidity
function constructor(
    contract ISuperfluid host
)
    public
```

#### Parameters

| Name   | Type                 | Description |
| :----- | :------------------- | :---------- |
| `host` | contract ISuperfluid |             |

## Fn createPool

```solidity
function createPool(
    contract ISuperfluidToken token,
    address admin,
    struct PoolConfig config
)
    external
    returns (bool success, contract ISuperfluidPool pool)
```

_Creates a new Superfluid Pool._

#### Parameters

| Name     | Type                      | Description                                                                    |
| :------- | :------------------------ | :----------------------------------------------------------------------------- |
| `token`  | contract ISuperfluidToken | The Super Token address.                                                       |
| `admin`  | address                   | The pool admin address.                                                        |
| `config` | struct PoolConfig         | The pool configuration (see PoolConfig in IGeneralDistributionAgreementV1.sol) |

#### Return Values

| Name      | Type                     | Description                                                           |
| :-------- | :----------------------- | :-------------------------------------------------------------------- |
| `success` | bool                     | A boolean value indicating whether the pool was created successfully. |
| `pool`    | contract ISuperfluidPool | The address of the deployed Superfluid Pool                           |

## Fn updateMemberUnits

```solidity
function updateMemberUnits(
    contract ISuperfluidPool pool,
    address memberAddress,
    uint128 newUnits,
    bytes userData
)
    external
    returns (bool success)
```

_Updates the units of a pool member._

#### Parameters

| Name            | Type                     | Description                          |
| :-------------- | :----------------------- | :----------------------------------- |
| `pool`          | contract ISuperfluidPool | The Superfluid Pool to update.       |
| `memberAddress` | address                  | The address of the member to update. |
| `newUnits`      | uint128                  | The new units of the member.         |
| `userData`      | bytes                    | User-specific data.                  |

## Fn claimAll

```solidity
function claimAll(
    contract ISuperfluidPool pool,
    address memberAddress,
    bytes userData
)
    external
    returns (bool success)
```

_Claims all tokens from the pool._

#### Parameters

| Name            | Type                     | Description                             |
| :-------------- | :----------------------- | :-------------------------------------- |
| `pool`          | contract ISuperfluidPool | The Superfluid Pool to claim from.      |
| `memberAddress` | address                  | The address of the member to claim for. |
| `userData`      | bytes                    | User-specific data.                     |

## Fn connectPool

```solidity
function connectPool(
    contract ISuperfluidPool pool,
    bytes userData
)
    external
    returns (bool)
```

_Connects a pool member to `pool`._

#### Parameters

| Name       | Type                     | Description                     |
| :--------- | :----------------------- | :------------------------------ |
| `pool`     | contract ISuperfluidPool | The Superfluid Pool to connect. |
| `userData` | bytes                    | User-specific data.             |

#### Return Values

| Name  | Type | Description                                                       |
| :---- | :--- | :---------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the connection was successful. |

## Fn disconnectPool

```solidity
function disconnectPool(
    contract ISuperfluidPool pool,
    bytes userData
)
    external
    returns (bool)
```

_Disconnects a pool member from `pool`._

#### Parameters

| Name       | Type                     | Description                        |
| :--------- | :----------------------- | :--------------------------------- |
| `pool`     | contract ISuperfluidPool | The Superfluid Pool to disconnect. |
| `userData` | bytes                    | User-specific data.                |

#### Return Values

| Name  | Type | Description                                                          |
| :---- | :--- | :------------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the disconnection was successful. |

## Fn distribute

```solidity
function distribute(
    contract ISuperfluidToken token,
    address from,
    contract ISuperfluidPool pool,
    uint256 requestedAmount,
    bytes userData
)
    external
    returns (bool)
```

_Tries to distribute `requestedAmount` amount of `token` from `from` to `pool`._

#### Parameters

| Name              | Type                      | Description                                  |
| :---------------- | :------------------------ | :------------------------------------------- |
| `token`           | contract ISuperfluidToken | The Super Token address.                     |
| `from`            | address                   | The address from which to distribute tokens. |
| `pool`            | contract ISuperfluidPool  | The Superfluid Pool address.                 |
| `requestedAmount` | uint256                   | The amount of tokens to distribute.          |
| `userData`        | bytes                     | User-specific data.                          |

#### Return Values

| Name  | Type | Description                                                         |
| :---- | :--- | :------------------------------------------------------------------ |
| `[0]` | bool | A boolean value indicating whether the distribution was successful. |

## Fn distributeFlow

```solidity
function distributeFlow(
    contract ISuperfluidToken token,
    address from,
    contract ISuperfluidPool pool,
    int96 requestedFlowRate,
    bytes userData
)
    external
    returns (bool)
```

_Tries to distribute flow at `requestedFlowRate` of `token` from `from` to `pool`._

#### Parameters

| Name                | Type                      | Description                                  |
| :------------------ | :------------------------ | :------------------------------------------- |
| `token`             | contract ISuperfluidToken | The Super Token address.                     |
| `from`              | address                   | The address from which to distribute tokens. |
| `pool`              | contract ISuperfluidPool  | The Superfluid Pool address.                 |
| `requestedFlowRate` | int96                     | The flow rate of tokens to distribute.       |
| `userData`          | bytes                     | User-specific data.                          |

#### Return Values

| Name  | Type | Description                                                         |
| :---- | :--- | :------------------------------------------------------------------ |
| `[0]` | bool | A boolean value indicating whether the distribution was successful. |

## Fn isPool

```solidity
function isPool(
    contract ISuperfluidToken token,
    address account
)
    external
    returns (bool)
```

_Checks if the specified account is a pool._

#### Parameters

| Name      | Type                      | Description                   |
| :-------- | :------------------------ | :---------------------------- |
| `token`   | contract ISuperfluidToken | The Super Token address.      |
| `account` | address                   | The account address to check. |

#### Return Values

| Name  | Type | Description                                               |
| :---- | :--- | :-------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the account is a pool. |

## Fn getNetFlow

```solidity
function getNetFlow(
    contract ISuperfluidToken token,
    address account
)
    external
    returns (int96)
```

_Gets the GDA net flow rate for the specified account._

#### Parameters

| Name      | Type                      | Description              |
| :-------- | :------------------------ | :----------------------- |
| `token`   | contract ISuperfluidToken | The Super Token address. |
| `account` | address                   | The account address.     |

#### Return Values

| Name  | Type  | Description                            |
| :---- | :---- | :------------------------------------- |
| `[0]` | int96 | The gda net flow rate for the account. |

## Fn getFlowDistributionFlowRate

```solidity
function getFlowDistributionFlowRate(
    contract ISuperfluidToken token,
    address from,
    contract ISuperfluidPool to
)
    external
    returns (int96)
```

_Gets the flow rate of tokens between the specified accounts._

#### Parameters

| Name    | Type                      | Description                              |
| :------ | :------------------------ | :--------------------------------------- |
| `token` | contract ISuperfluidToken | The Super Token address.                 |
| `from`  | address                   | The sender address.                      |
| `to`    | contract ISuperfluidPool  | The receiver address (the pool address). |

#### Return Values

| Name  | Type  | Description                     |
| :---- | :---- | :------------------------------ |
| `[0]` | int96 | The flow distribution flow rate |

## Fn getPoolAdjustmentFlowRate

```solidity
function getPoolAdjustmentFlowRate(
    address pool
)
    external
    returns (int96)
```

_Gets the pool adjustment flow rate for the specified pool._

#### Parameters

| Name   | Type    | Description       |
| :----- | :------ | :---------------- |
| `pool` | address | The pool address. |

#### Return Values

| Name  | Type  | Description                    |
| :---- | :---- | :----------------------------- |
| `[0]` | int96 | The pool adjustment flow rate. |

## Fn estimateFlowDistributionActualFlowRate

```solidity
function estimateFlowDistributionActualFlowRate(
    contract ISuperfluidToken token,
    address from,
    contract ISuperfluidPool to,
    int96 requestedFlowRate
)
    external
    returns (int96 actualFlowRate, int96 totalDistributionFlowRate)
```

_Estimates the actual flow rate for flow distribution to the specified pool._

#### Parameters

| Name                | Type                      | Description              |
| :------------------ | :------------------------ | :----------------------- |
| `token`             | contract ISuperfluidToken | The Super Token address. |
| `from`              | address                   | The sender address.      |
| `to`                | contract ISuperfluidPool  | The pool address.        |
| `requestedFlowRate` | int96                     | The requested flow rate. |

#### Return Values

| Name                        | Type  | Description |
| :-------------------------- | :---- | :---------- |
| `actualFlowRate`            | int96 |             |
| `totalDistributionFlowRate` | int96 |             |

## Fn estimateDistributionActualAmount

```solidity
function estimateDistributionActualAmount(
    contract ISuperfluidToken token,
    address from,
    contract ISuperfluidPool to,
    uint256 requestedAmount
)
    external
    returns (uint256 actualAmount)
```

_Estimates the actual amount for distribution to the specified pool._

#### Parameters

| Name              | Type                      | Description              |
| :---------------- | :------------------------ | :----------------------- |
| `token`           | contract ISuperfluidToken | The Super Token address. |
| `from`            | address                   | The sender address.      |
| `to`              | contract ISuperfluidPool  | The pool address.        |
| `requestedAmount` | uint256                   | The requested amount.    |

#### Return Values

| Name           | Type    | Description                         |
| :------------- | :------ | :---------------------------------- |
| `actualAmount` | uint256 | The actual amount for distribution. |

## Fn isMemberConnected

```solidity
function isMemberConnected(
    contract ISuperfluidPool pool,
    address member
)
    external
    returns (bool)
```

_Checks if the specified member is connected to the pool._

#### Parameters

| Name     | Type                     | Description                  |
| :------- | :----------------------- | :--------------------------- |
| `pool`   | contract ISuperfluidPool | The Superfluid Pool address. |
| `member` | address                  | The member address.          |

#### Return Values

| Name  | Type | Description                                                             |
| :---- | :--- | :---------------------------------------------------------------------- |
| `[0]` | bool | A boolean value indicating whether the member is connected to the pool. |

## Fn getPoolAdjustmentFlowInfo

```solidity
function getPoolAdjustmentFlowInfo(
    contract ISuperfluidPool pool
)
    external
    returns (address, bytes32, int96)
```

_Gets the pool adjustment flow information for the specified pool._

#### Parameters

| Name   | Type                     | Description       |
| :----- | :----------------------- | :---------------- |
| `pool` | contract ISuperfluidPool | The pool address. |

#### Return Values

| Name  | Type    | Description                                             |
| :---- | :------ | :------------------------------------------------------ |
| `[0]` | address | The pool admin, pool ID, and pool adjustment flow rate. |
| `[1]` | bytes32 |                                                         |
| `[2]` | int96   |                                                         |
